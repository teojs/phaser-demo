/* eslint-disable */
!(function(e, t) { typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = t() : typeof define === 'function' && define.amd ? define(t) : (e = typeof globalThis !== 'undefined' ? globalThis : e || self).WwLogin = t() }(this, function() { 'use strict'; const e = ['work.weixin.qq.com', 'tencent.com']; const t = { sso: '/wwopen/sso/qrConnect', tww: '/login/wwLogin/sso/qrConnect', native: '/native/sso/qrConnect', twxg: '/login/wwLogin/sso/qrConnect' }; const n = '1.2.7'; return (function() { function o(e) { this.options = e, this.options = e, this.createFrame() } return o.prototype.destroyed = function() { console.log('WwLogin had destroyed.'), window.removeEventListener('message', this.onPostMessage) }, o.prototype.getUrl = function(e) { const o = []; Object.keys(e).forEach(function(t) { const n = e[t]; [void 0, null].indexOf(n) > -1 || ['string', 'number', 'boolean'].indexOf(typeof n) !== -1 && t !== 'id' && o.push(''.concat(t, '=').concat(n)) }), o.push('version='.concat(n)), o.push('login_type=jssdk'); const s = t[e.business_type || 'sso']; if (!s) throw new Error('Argument business_type not match. Current version is '.concat(n, '.')); let i = 'https://open.work.weixin.qq.com'; return /tencent\.com$/.test(window.location.host) && (i = 'https://open.wecom.tencent.com'), ''.concat(i).concat(s, '?').concat(o.join('&')) }, o.prototype.createFrame = function() { const e = this; if (this.options.is_mobile)window.location.href = this.getUrl(this.options); else { this.frame = document.createElement('iframe'); const t = document.getElementById(this.options.id); this.frame.src = this.getUrl(this.options), this.frame.frameBorder = '0', this.frame.allowTransparency = 'true', this.frame.scrolling = 'no', this.frame.width = '300px', this.frame.height = '400px', t.innerHTML = '', t.appendChild(this.frame), this.frame.onload = function() { e.frame.contentWindow.postMessage && window.addEventListener && (window.addEventListener('message', e.onPostMessage), e.frame.contentWindow.postMessage('ask_usePostMessage', '*')) } } }, o.prototype.onPostMessage = function(t) { if (e.filter(function(e) { return new RegExp(''.concat(e, '$')).test(t.origin) }).length) { const n = t.data; n && typeof n === 'string' && /^http/.test(n) && (window.location.href = n) } }, o }()) }))

export default WwLogin